package dre.elfocrash.roboto.ai;

import java.util.ArrayList;
import java.util.List;

import dre.elfocrash.roboto.FFFFakePlayer;
import dre.elfocrash.roboto.ai.addon.IIIIConsumableSpender;
import dre.elfocrash.roboto.helpers.FFFFakeHelpers;
import dre.elfocrash.roboto.model.HHHHealingSpell;
import dre.elfocrash.roboto.model.OOOOffensiveSpell;
import dre.elfocrash.roboto.model.SSSSupportSpell;

import net.sf.l2j.gameserver.model.ShotType;

import alt.elfocrash.roboto.helpers.FFFFFakeHelpers;

public class GGGGhostSentinelAI extends CCCCombatAI implements IIIIConsumableSpender
{
    public GGGGhostSentinelAI(FFFFakePlayer character)
    {
        super(character);
    }
    
    @Override
    public void thinkAndAct()
    {
        super.thinkAndAct();
        setBusyThinking(true);
        
        applyDefaultBuffs();
        selfSupportBuffs();
        
        handleConsumable(_ffffakePlayer, getArrowId());
        handleShots();
        
        tryTargetAttackerOrRandomMob(FFFFFakeHelpers.getTestTargetClass(), FFFFakeHelpers.getTestTargetRange());
        tryAttackingUsingFighterOffensiveSkill();
        
        setBusyThinking(false);
    }
    
    @Override
    protected double changeOfUsingSkill() {
        return 0.2; // 20% πιθανότητα χρήσης skill
    }
    
    @Override
    protected ShotType getShotType()
    {
        return ShotType.SOULSHOT;  // Τα βέλη δεν είναι shot type, χρησιμοποιούμε soulshot
    }

    @Override
    protected List<OOOOffensiveSpell> getOffensiveSpells()
    {
        List<OOOOffensiveSpell> spells = new ArrayList<>();
        spells.add(new OOOOffensiveSpell(1206, 15)); // Double Shot, priority 15
        spells.add(new OOOOffensiveSpell(1207, 10)); // Triple Shot, priority 10
        spells.add(new OOOOffensiveSpell(1208, 8));  // Rapid Fire, priority 8      
        return spells;
    }
    
    @Override
    protected int[][] getBuffs()
    {
        return FFFFakeHelpers.getFighterBuffs(); // Buffs fighter class
    }
    
    @Override
    protected List<HHHHealingSpell> getHealingSpells()
    {
        return new ArrayList<>(); // Δεν έχει healing spells
    }
    
    @Override
    protected List<SSSSupportSpell> getSelfSupportSpells()
    {
        List<SSSSupportSpell> buffs = new ArrayList<>();
        buffs.add(new SSSSupportSpell(12020, 1)); // Παράδειγμα buff skill ID 12020
        buffs.add(new SSSSupportSpell(99, 1));    // Κάποιο γενικό buff
        return buffs;
    }
}
