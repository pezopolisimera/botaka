package dre.elfocrash.roboto.ai;

import java.util.ArrayList;
import java.util.List;

import dre.elfocrash.roboto.FFFFakePlayer;
import dre.elfocrash.roboto.ai.addon.IIIIConsumableSpender;
import dre.elfocrash.roboto.helpers.FFFFakeHelpers;
import dre.elfocrash.roboto.model.HHHHealingSpell;
import dre.elfocrash.roboto.model.OOOOffensiveSpell;
import dre.elfocrash.roboto.model.SSSSupportSpell;

import net.sf.l2j.gameserver.model.ShotType;

public class SSSSaggitariusAI extends CCCCombatAI implements IIIIConsumableSpender
{
    public SSSSaggitariusAI(FFFFakePlayer character)
    {
        super(character);
    }
    
    @Override
    public void thinkAndAct()
    {       
        super.thinkAndAct();
        setBusyThinking(true);
        
        applyDefaultBuffs();
        selfSupportBuffs();
        
        // Διαχειριση βελών (arrows)
        handleConsumable(_ffffakePlayer, getArrowId());
        // Διαχειριση shots (soulshots/spiritshots)
        handleShots();
        
        tryTargetAttackerOrRandomMob(FFFFakeHelpers.getTestTargetClass(), FFFFakeHelpers.getTestTargetRange());
        tryAttackingUsingFighterOffensiveSkill();
        
        setBusyThinking(false);
    }
    
    @Override
    protected double changeOfUsingSkill() {
        return 0.25; // 25% πιθανότητα skill usage
    }
    
    @Override
    protected ShotType getShotType()
    {
        return ShotType.ARROW;  // Sagittarius χρησιμοποιεί βέλη
    }
    
    @Override
    protected List<OOOOffensiveSpell> getOffensiveSpells()
    {
        List<OOOOffensiveSpell> spells = new ArrayList<>();
        // Παράδειγμα skills Sagittarius, βάλε τα σωστά IDs & priorities που χρησιμοποιείς στο server σου
        spells.add(new OOOOffensiveSpell(12006, 1));  // πχ skill ID 12006 priority 1
        spells.add(new OOOOffensiveSpell(12007, 2));  // skill ID 12007 priority 2
        // Πρόσθεσε αν θες κι άλλα
        
        return spells;
    }
    
    @Override
    protected int[][] getBuffs()
    {
        return FFFFakeHelpers.getFighterBuffs(); // Buffs σαν fighter, ταιριάζουν στον Sagittarius
    }
    
    @Override
    protected List<HHHHealingSpell> getHealingSpells()
    {       
        return new ArrayList<>(); // Δεν κάνει heal
    }

    @Override
    protected List<SSSSupportSpell> getSelfSupportSpells()
    {
        List<SSSSupportSpell> selfBuffs = new ArrayList<>();
        // Παράδειγμα buff, βάλε σωστό skillId και προϋποθέσεις αν θες
        selfBuffs.add(new SSSSupportSpell(12015, 1));  // skill ID 12015 priority 1
        selfBuffs.add(new SSSSupportSpell(99, 1));     // πχ κάποιο άλλο buff
        
        return selfBuffs;
    }
}
